<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Báº¯n Thuyá»n - NhÃ³m 1 & NhÃ³m 2 (Quiz flow - Ocean Theme)</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700;800&display=swap');

body {
    font-family: 'Be Vietnam Pro', sans-serif;
    height: 100vh;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    position: relative;
    overflow: hidden;
    background: url('Light Blue Pirate Birthday Poster.png') no-repeat center center fixed;
    background-size: cover; 
    padding-top: 100px; /* Added padding to avoid overlapping with controls */
}

.container {
    display: flex;
    align-items: flex-start;
    justify-content: center;
    gap: 100px;
    position: relative;
    z-index: 5;
}

.divider {
    position: absolute;
    left: 50%;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, transparent, #9ac7e5, transparent);
    transform: translateX(-50%);
}

.board-container {
    display: flex;
    flex-direction: column;
    align-items: center;
}

h2 {
    margin-bottom: 20px;
    font-weight: 700;
    letter-spacing: 0.5px;
    font-size: 28px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

.board {
    display: grid;
    grid-template-columns: 45px repeat(5, 70px);
    grid-template-rows: 45px repeat(5, 70px);
    gap: 6px;
    background: #cde8f8;
    padding: 20px;
    border-radius: 25px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
}

.label {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 700;
    color: #444;
}

.cell {
    background: white;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.16s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 26px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    font-weight: 800;
    position: relative;
}

.cell:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
}

/* Tráº¡ng thÃ¡i Ã´ Ä‘Ã£ tráº£ lá»i quiz */
.cell[data-answered="true"] {
    cursor: pointer;
    background: white !important;
}
.cell[data-answered="true"]:hover {
    transform: scale(1.05);
}

/* Dáº¥u trÃ²n trÃºng/trÆ°á»£t */
.cell.hit::before, .cell.miss::before {
    content: '';
    position: absolute;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    z-index: 2;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.4);
}
.cell.hit::before { background: #b30000; }
.cell.miss::before { background: #0056cc; }
.cell.hit, .cell.miss {
    background: white !important;
    color: transparent;
}

/* Popup chá»n mÃ u */
.popup {
    position: absolute;
    background: white;
    border-radius: 15px;
    padding: 15px;
    display: flex;
    gap: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    z-index: 10;
}
.color-btn {
    width: 35px;
    height: 35px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
.color-btn.red { background: #b30000; }
.color-btn.blue { background: #0056cc; }

/* Quiz overlay */
.quiz-popup {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.6);
    z-index: 50;
}
.quiz-box {
    width: 750px; 
    background: #fff9f3;
    border-radius: 25px;
    padding: 40px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.5);
    text-align: center;
    transition: transform 0.1s ease-in-out;
}
@keyframes shake-and-celebrate {
    0% { transform: scale(1) rotate(0deg); }
    20% { transform: scale(1.04) rotate(-1.5deg); }
    40% { transform: scale(1.04) rotate(1.5deg); }
    60% { transform: scale(1.04) rotate(-1.5deg); }
    80% { transform: scale(1.04) rotate(1.5deg); }
    100% { transform: scale(1) rotate(0deg); }
}
.quiz-box.celebrate {
    animation: shake-and-celebrate 0.5s;
}
.quiz-question {
    font-weight: 700;
    margin-bottom: 30px;
    font-size: 22px;
    text-align: justify;
    line-height: 1.5;
}
.option {
    background: #f0e2d2;
    padding: 18px;
    border-radius: 15px;
    margin: 12px 0;
    cursor: pointer;
    transition: 0.14s;
    text-align: left;
    font-size: 18px;
    font-weight: 500;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}
.option:hover { 
    transform: translateY(-3px);
    background: #e0d2c2;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}
.option.correct {
    background: #d4f5d6;
    border: 3px solid #8cd179;
    font-weight: 700;
}
.option.wrong {
    background: #ffd7d7;
    border: 3px solid #ff7b7b;
    font-weight: 700;
}
.fitb-input {
    width: 90%;
    padding: 15px;
    margin: 20px 0;
    border: 3px solid #ccc;
    border-radius: 12px;
    font-size: 20px;
    text-align: center;
    font-weight: 600;
}
.fitb-feedback {
    margin-top: 25px;
    font-weight: 800;
    font-size: 26px;
    display: block;
}
.fitb-btn {
    padding: 15px 30px;
    border: none;
    border-radius: 12px;
    background: #0056cc;
    color: white;
    cursor: pointer;
    margin-top: 20px;
    transition: 0.14s;
    font-weight: 700;
    font-size: 20px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}
.fitb-btn:hover { background: #0044a0; }

.back-btn {
    padding: 15px 30px;
    border: none;
    border-radius: 12px;
    background: #6c757d;
    color: white;
    cursor: pointer;
    margin-top: 30px;
    font-size: 20px;
    font-weight: 700;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    transition: background 0.14s;
}
.back-btn:hover { background: #5a6268; }

/* --- RULE BUTTON & POPUP STYLES --- */
.action-btn {
    padding: 12px 25px;
    font-size: 18px;
    font-weight: 700;
    color: white;
    background: #6c757d; 
    border: none;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    transition: all 0.2s ease;
}
.action-btn:hover {
    background: #5a6268;
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
}
.action-btn:active {
    transform: translateY(0);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

/* Container bá»c cÃ¡c nÃºt á»Ÿ gÃ³c pháº£i trÃªn cÃ¹ng */
#controls-container {
    position: absolute;
    top: 10px;
    right: 10px;
    display: flex;
    flex-direction: column; /* Xáº¿p dá»c */
    gap: 10px; /* Khoáº£ng cÃ¡ch giá»¯a cÃ¡c nÃºt */
    z-index: 60;
}

.rule-popup {
    position: fixed;
    inset: 0;
    display: none; 
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.7);
    z-index: 100;
}

.rule-box {
    width: 800px; 
    max-height: 65vh; 
    overflow-y: hidden; 
    background: #fff9f3; 
    border-radius: 25px; 
    padding: 40px; 
    box-shadow: 0 15px 40px rgba(0,0,0,0.5);
    color: #212529; 
    text-align: center;
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}
.rule-box::-webkit-scrollbar {
    display: none;
}

.rule-content {
    font-size: 17px; 
    font-weight: 500; 
    line-height: 1.7;
    text-align: justify;
    margin-bottom: 25px;
    padding: 0 10px; 
}

.rule-box h3 {
    color: #b30000; 
    font-size: 24px;
    margin-top: 0;
    border-bottom: 2px solid #ced4da; 
    padding-bottom: 10px;
    font-weight: 800; 
}

.rule-box .section-title {
    color: #b30000;
    font-weight: 800;
    font-size: 20px;
    display: block; 
    margin-top: 15px;
    margin-bottom: 5px;
    text-align: left;
}

.rule-box ol, .rule-box ul {
    text-align: justify;
    padding-left: 30px;
    font-size: 17px;
    font-weight: 500;
}

.dot {
    display: inline-block;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    margin-right: 8px;
    vertical-align: middle;
}
.dot.red { background-color: #b30000; }
.dot.blue { background-color: #0056cc; }

/* --- New Ship Placement Styles --- */
.ship-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
    position: absolute;
    top: 100px;
    left: 20px;
    z-index: 10;
}

.ship {
    background: #808080;
    border-radius: 5px;
    cursor: grab;
    display: flex;
}

.ship.horizontal {
    flex-direction: row;
}

.ship.vertical {
    flex-direction: column;
}

.ship-unit {
    width: 70px;
    height: 70px;
    background: #808080;
    border: 1px solid #000;
    box-sizing: border-box;
}

.cell.ship {
    background: #808080 !important;
}

#show-ships-popup {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.6);
    z-index: 50;
}

.show-ships-box {
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
}

.show-ships-box button {
    margin: 10px;
    padding: 10px 20px;
    background: #0056cc;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.show-ships-box button:hover {
    background: #0044a0;
}
</style>
</head>
<body>
    <!-- Container bá»c cÃ¡c nÃºt á»Ÿ gÃ³c pháº£i trÃªn cÃ¹ng -->
    <div id="controls-container">
        <button id="placeShipsBtn" class="action-btn">Äáº·t Thuyá»n</button>
        <button id="showShipsBtn" class="action-btn">Hiá»‡n Thuyá»n</button>
        <button id="ruleBtn" class="action-btn">Luáº­t ChÆ¡i</button>
    </div>

    <div class="container">
        <div class="divider"></div>
        <div class="board-container">
            <h2 style="color:#b30000">Báº¢NG NHÃ“M 1</h2>
            <div class="board" id="board1"></div>
        </div>
        <div class="board-container">
            <h2 style="color:#0056cc">Báº¢NG NHÃ“M 2</h2>
            <div class="board" id="board2"></div>
        </div>
    </div>

    <div id="popup" class="popup" style="display:none;">
        <button class="color-btn red" title="ÄÃ¡nh dáº¥u TrÃºng"></button>
        <button class="color-btn blue" title="ÄÃ¡nh dáº¥u TrÆ°á»£t"></button>
    </div>

    <div id="rulePopup" class="rule-popup">
        <div class="rule-box" role="dialog" aria-modal="true">
            <h3>âš“ LUáº¬T CHÆ I Báº®N THUYá»€N âš“</h3>
            <div class="rule-content">
                <span class="section-title">LUáº¬T CHÆ I:</span>
                <ol>
                    <li>Má»—i Ä‘á»™i cÃ³ 3 thuyá»n: 1 thuyá»n dÃ i 3 Ã´, 1 thuyá»n dÃ i 2 Ã´ vÃ  1 thuyá»n dÃ i 1 Ã´.</li>
                    <li>Hai Ä‘á»™i Ä‘áº·t thuyá»n bÃ­ máº­t trÃªn báº£ng Ã´ vuÃ´ng.</li>
                    <li>LÆ°á»£t chÆ¡i: má»—i Ä‘á»™i báº¯n vÃ o tá»a Ä‘á»™ trÃªn báº£ng Ä‘á»‘i phÆ°Æ¡ng.</li>
                    <ul>          
                        <li>TrÃºng thuyá»n: Ä‘Ã¡nh dáº¥u <span class="dot red"></span>.</li>
                        <li>KhÃ´ng trÃºng: Ä‘Ã¡nh dáº¥u <span class="dot blue"></span>.</li>
                    </ul>
                    <li>Äá»™i nÃ o báº¯n chÃ¬m háº¿t thuyá»n cá»§a Ä‘á»‘i phÆ°Æ¡ng trÆ°á»›c lÃ  <strong style="color: #0056cc;">Ä‘á»™i tháº¯ng</strong>.</li>
                </ol>
                <span class="section-title">CÃCH TÃNH ÄIá»‚M:</span>
                <ul>
                    <li>Má»—i ngÆ°á»i tráº£ lá»i Ä‘Ãºng cÃ¢u há»i Ä‘Æ°á»£c <strong style="color: #0056cc;">+1 Ä‘iá»ƒm</strong>.</li>
                    <li>Äá»™i nÃ o báº¯n chÃ¬m toÃ n bá»™ thuyá»n Ä‘á»‘i phÆ°Æ¡ng trÆ°á»›c sáº½ Ä‘Æ°á»£c <strong style="color: #0056cc;">+2 Ä‘iá»ƒm</strong> cho <strong>cáº£ Ä‘á»™i</strong>.</li>
                </ul>
            </div>
            <button id="closeRuleBtn" class="back-btn" style="background: #6c757d;">ÄÃ³ng</button>
        </div>
    </div>

    <div id="quizPopup" class="quiz-popup">
        <div id="quizBox" class="quiz-box" role="dialog" aria-modal="true">
            <div id="quizQuestion" class="quiz-question"></div>
            <div id="quizContent"></div>
            <button id="backBtn" class="back-btn">Quay láº¡i báº£ng</button>
        </div>
    </div>

    <div id="show-ships-popup" class="quiz-popup">
        <div class="show-ships-box">
            <h3>Chá»n hiá»ƒn thá»‹ thuyá»n</h3>
            <button id="show-team1">Hiá»‡n thuyá»n Team 1</button>
            <button id="show-team2">Hiá»‡n thuyá»n Team 2</button>
            <button id="show-both">Hiá»‡n cáº£ hai</button>
            <button id="hide-all-ships">áº¨n táº¥t cáº£</button>
        </div>
    </div>

<script>
/* --- DATA CÃ‚U Há»I Tá»”NG Há»¢P --- */
const officialQuestions = [
    { type: 'mc', q: "Äáº¡i há»™i VII rÃºt ra Ä‘Æ°á»£c bao nhiÃªu bÃ i há»c tá»« Ä‘áº¡i há»™i trÆ°á»›c Ä‘Ã³?", options: ["3","4","5","6"], ans: 2 },
    { type: 'mc', q: "Nhiá»‡m vá»¥ nÃ o sau Ä‘Ã¢y Ä‘Æ°á»£c nÃªu ra trong Äáº¡i há»™i VII?", options: ["BÆ°á»›c Ä‘áº§u á»•n Ä‘á»‹nh vÃ  tá»«ng bÆ°á»›c cáº£i thiá»‡n Ä‘á»i sá»‘ng váº­t cháº¥t vÃ  vÄƒn hoÃ¡ cá»§a nhÃ¢n dÃ¢n lao Ä‘á»™ng.","Cáº§n kiá»‡m Ä‘á»ƒ cÃ´ng nghiá»‡p hoÃ¡, kháº¯c phá»¥c xu hÆ°á»›ng cháº¡y theo â€œxÃ£ há»™i tiÃªu dÃ¹ng\".","NÃ¢ng cao nÄƒng lá»±c lÃ£nh Ä‘áº¡o, nÄƒng lá»±c cáº§m quyá»n vÃ  sá»©c chiáº¿n Ä‘áº¥u cá»§a Äáº£ng, xÃ¢y dá»±ng Äáº£ng vÃ  há»‡ thá»‘ng chÃ­nh trá»‹ trong sáº¡ch, vá»¯ng máº¡nh.", "PhÃ¡t huy quyá»n tá»± chá»§ trong sáº£n xuáº¥t kinh doanh cá»§a cÃ¡c xÃ­ nghiá»‡p quá»‘c doanh."], ans: 0 },
    { type: 'mc', q: "Láº§n Ä‘áº§u tiÃªn Äáº£ng giÆ°Æ¡ng cao ngá»n cá» tÆ° tÆ°á»Ÿng Há»“ ChÃ­ Minh vÃ o Ä‘áº¡i há»™i nÃ o?", options: ["Äáº¡i há»™i VI (1986)","Äáº¡i há»™i VII (1991)","Äáº¡i há»™i VIII (1996)","Äáº¡i há»™i IX (2001)"], ans: 1 },
    { type: 'mc', q: "Trong Há»™i nghá»‹ 4 Ä‘Ã£ ban hÃ nh 5 nghá»‹ quyáº¿t dá»±a trÃªn quan Ä‘iá»ƒm coi gÃ¬ lÃ  má»¥c tiÃªu pháº¥n Ä‘áº¥u cao nháº¥t cá»§a Äáº£ng?", options: ["Äá»™c láº­p cá»§a dÃ¢n tá»™c","Quyá»n tá»± do cá»§a con ngÆ°á»i","Äáº¥t nÆ°á»›c á»•n Ä‘á»‹nh vÃ  phÃ¡t triá»ƒn","Háº¡nh phÃºc cá»§a con ngÆ°á»i"], ans: 3 },
    { type: 'mc', q: "Äáº¡i há»™i Äáº¡i biá»ƒu ToÃ n quá»‘c nÄƒm 1991 nháº¥n máº¡nh má»¥c tiÃªu tá»•ng quÃ¡t lÃ  gÃ¬?", options: ["VÆ°á»£t khÃ³ khÄƒn thá»­ thÃ¡ch, á»•n Ä‘á»‹nh vÃ  phÃ¡t triá»ƒn kinh táº¿ - xÃ£ há»™i, tÄƒng cÆ°á»ng á»•n Ä‘á»‹nh chÃ­nh trá»‹, Ä‘áº©y lÃ¹i tiÃªu cá»±c vÃ  báº¥t cÃ´ng xÃ£ há»™i, Ä‘Æ°a nÆ°á»›c ta cÆ¡ báº£n ra khá»i tÃ¬nh tráº¡ng khá»§ng hoáº£ng.","VÆ°á»£t khÃ³ khÄƒn thá»­ thÃ¡ch, xÃ¢y dá»±ng Ä‘áº¥t nÆ°á»›c cá»™ng sáº£n, tÄƒng cÆ°á»ng á»•n Ä‘á»‹nh chÃ­nh trá»‹, Ä‘áº©y lÃ¹i tiÃªu cá»±c vÃ  báº¥t cÃ´ng xÃ£ há»™i.","VÆ°á»£t khÃ³ khÄƒn thá»­ thÃ¡ch, xÃ¢y dá»±ng Ä‘áº¥t nÆ°á»›c cá»™ng sáº£n, á»•n Ä‘á»‹nh vÃ  phÃ¡t triá»ƒn kinh táº¿ - xÃ£ há»™i, tÄƒng cÆ°á»ng á»•n Ä‘á»‹nh chÃ­nh trá»‹, Ä‘áº©y lÃ¹i tiÃªu cá»±c vÃ  báº¥t cÃ´ng xÃ£ há»™i, Ä‘Æ°a nÆ°á»›c ta cÆ¡ báº£n ra khá»i tÃ¬nh tráº¡ng khá»§ng hoáº£ng.","VÆ°á»£t khÃ³ khÄƒn thá»­ thÃ¡ch, á»•n Ä‘á»‹nh vÃ  phÃ¡t triá»ƒn kinh táº¿ - xÃ£ há»™i, tÄƒng cÆ°á»ng á»•n Ä‘á»‹nh chÃ­nh trá»‹, Ä‘Æ°a Ä‘áº¥t nÆ°á»›c tiáº¿n Ä‘áº¿n phÃ¡t triá»ƒn nÃ´ng nghiá»‡p."], ans: 0 },
    { type: 'mc', q: "Äáº¡i há»™i VII cá»§a Äáº£ng lÃ :", options: ["â€œÄáº¡i há»™i cá»§a sÃ¡ng táº¡o - Ä‘á»•i má»›i - dÃ¢n chá»§ - ká»· cÆ°Æ¡ng - Ä‘oÃ n káº¿t\"","â€œÄáº¡i há»™i cá»§a trÃ­ tuá»‡ - Ä‘á»•i má»›i - dÃ¢n chá»§ - ká»· cÆ°Æ¡ng - Ä‘oÃ n káº¿t\"","â€œÄáº¡i há»™i cá»§a sÃ¡ng táº¡o - phÃ¡t triá»ƒn - dÃ¢n chá»§ - ká»· cÆ°Æ¡ng - Ä‘oÃ n káº¿tâ€","â€œÄáº¡i há»™i cá»§a trÃ­ tuá»‡ - phÃ¡t triá»ƒn - dÃ¢n chá»§ - ká»· cÆ°Æ¡ng - Ä‘oÃ n káº¿t\""], ans: 1 },
    { type: 'fitb', q: "Äáº£ng láº¥y chá»§ nghÄ©a MÃ¡c - LÃªnin vÃ  tÆ° tÆ°á»Ÿng Há»“ ChÃ­ Minh lÃ m \_\_\_\_\_ cho hÃ nh Ä‘á»™ng.", correctAnswer: "ná»n táº£ng tÆ° tÆ°á»Ÿng, kim chá»‰ nam" },
    { type: 'mc', q: "Viá»‡t Nam vÃ  Trung Quá»‘c thiáº¿t láº­p láº¡i vÃ  bÃ¬nh thÆ°á»ng hÃ³a má»‘i quan há»‡ giá»¯a 2 nÆ°á»›c vÃ o thá»i gian nÃ o?", options: ["2/1991","7/1991","10/1991","11/1991"], ans: 3 },
    { type: 'mc', q: "Viá»‡t Nam vÃ  Hoa Ká»³ thiáº¿t láº­p láº¡i quan há»‡ ngoáº¡i giao vÃ o nÄƒm nÃ o?", options: ["1993","1995","1997","2001"], ans: 1 },
    { type: 'mc', q: "BCH Trung Æ°Æ¡ng Äáº¡i há»™i VII ra chá»‰ Ä‘áº¡o Ä‘á»•i má»›i toÃ n diá»‡n, trong Ä‘Ã³ coi Ä‘Ã¢u lÃ  Máº·t tráº­n hÃ ng Ä‘áº§u?", options: ["CÃ´ng nghiá»‡p","NÃ´ng nghiá»‡p","ThÆ°Æ¡ng nghiá»‡p","Cáº£ a, b, c"], ans: 1 },
    { type: 'fitb', q: "â€œÄáº¡i há»™i VII lÃ  Äáº¡i há»™i cá»§a \_\_\_\_\_ dÃ¢n chá»§ - ká»· cÆ°Æ¡ng - Ä‘oÃ n káº¿t\"", correctAnswer: "trÃ­ tuá»‡ - Ä‘á»•i má»›i" },
    { type: 'mc', q: "Äáº¡i há»™i Äáº£ng toÃ n quá»‘c láº§n thá»© VII Ä‘Ã£ thÃ´ng qua nhá»¯ng vÄƒn kiá»‡n nÃ o?", options: ["BÃ¡o cÃ¡o chÃ­nh trá»‹, bÃ¡o cÃ¡o tá»•ng káº¿t cÃ´ng tÃ¡c xÃ¢y dá»±ng Äáº£ng","CÆ°Æ¡ng lÄ©nh xÃ¢y dá»±ng Ä‘áº¥t nÆ°á»›c trong thá»i ká»³ quÃ¡ Ä‘á»™ lÃªn chá»§ nghÄ©a xÃ£ há»™i, Chiáº¿n lÆ°á»£c á»•n Ä‘á»‹nh vÃ  phÃ¡t triá»ƒn kinh táº¿ - xÃ£ há»™i Ä‘áº¿n nÄƒm 2000","BÃ¡o cÃ¡o chÃ­nh trá»‹, nghá»‹ quyáº¿t vá» nhiá»‡m vá»¥ vÃ  Ä‘Æ°á»ng lá»‘i cá»§a Äáº£ng trong giai Ä‘oáº¡n má»›i","PhÆ°Æ¡ng hÆ°á»›ng, nhiá»‡m vá»¥, káº¿ hoáº¡ch phÃ¡t triá»ƒn kinh táº¿-xÃ£ há»™i 5 nÄƒm 1996-2000, Äiá»u lá»‡ Äáº£ng (bá»• sung, sá»­a Ä‘á»•i)"], ans: 1 },
    { type: 'mc', q: "Ná»™i dung nÃ o khÃ´ng cÃ³ trong Ä‘áº¡i há»™i Äáº£ng toÃ n quá»‘c láº§n thá»© VII?", options: ["XÃ¡c Ä‘á»‹nh 7 phÆ°Æ¡ng hÆ°á»›ng lá»›n xÃ¢y dá»±ng chá»§ nghÄ©a xÃ£ há»™i","Chá»‰ ra nhá»¯ng thÃ nh cÃ´ng, khuyáº¿t Ä‘iá»ƒm, sai láº§m trong hÆ¡n 60 nÄƒm lÃ£nh Ä‘áº¡o cá»§a Äáº£ng","NÃªu ra 6 bÃ i há»c chá»§ yáº¿u trong 10 nÄƒm Ä‘á»•i má»›i","ThÃ´ng qua â€œchiáº¿n lÆ°á»£c á»•n Ä‘á»‹nh vÃ  phÃ¡t triá»ƒn kinh táº¿ - xÃ£ há»™i Ä‘áº¿n nÄƒm 2000\""], ans: 2 },
    { type: 'mc', q: "Äiá»n tá»« cÃ²n thiáº¿u vÃ o chá»— trá»‘ng: â€œNghá»‹ quyáº¿t Äáº¡i há»™i VII cá»§a Äáº£ng Ä‘Ã£ Ä‘Æ°a ra quan Ä‘iá»ƒm coi ... lÃ  nhÃ¢n tá»‘ quyáº¿t Ä‘á»‹nh, lÃ  Ä‘á»™ng lá»±c to lá»›n, lÃ  chá»§ thá»ƒ sÃ¡ng táº¡o má»i nguá»“n cá»§a cáº£i, váº­t cháº¥t lÃ  tinh tháº§n cá»§a xÃ£ há»™i, lÃ  má»¥c tiÃªu pháº¥n Ä‘áº¥u cao nháº¥t cá»§a Äáº£ngâ€", options: ["NhÃ¢n dÃ¢n","Con ngÆ°á»i","Khoa há»c, ká»¹ thuáº­t","Kinh táº¿"], ans: 1 },
    { type: 'mc', q: "Äiá»n tá»« cÃ²n thiáº¿u vÃ o chá»— trá»‘ng: â€œTrong há»‡ thá»‘ng chÃ­nh trá»‹, ...... lÃ  má»™t bá»™ pháº­n vÃ  lÃ  tá»• chá»©c lÃ£nh Ä‘áº¡o há»‡ thá»‘ng Ä‘Ã³, láº¥y Chá»§ nghÄ©a MÃ¡c - LÃªnin vÃ  TÆ° tÆ°á»Ÿng Há»“ ChÃ­ Minh lÃ m ná»n táº£ng tÆ° tÆ°á»Ÿng, kim chá»‰ nam cho hÃ nh Ä‘á»™ng, láº¥y ...... lÃ m nguyÃªn táº¯c tá»• chá»©c cÆ¡ báº£n.\"", options: ["NhÃ  nÆ°á»›c - Ä‘a sá»‘ tháº¯ng thiá»ƒu sá»‘","ChÃ­nh phá»§ - phÃª bÃ¬nh vÃ  tá»± phÃª bÃ¬nh","Äáº£ng Cá»™ng sáº£n - táº­p trung dÃ¢n chá»§","NhÃ¢n dÃ¢n - táº­p trung dÃ¢n chá»§"], ans: 2 },
    { type: 'mc', q: "Chiáº¿n lÆ°á»£c á»•n Ä‘á»‹nh vÃ  phÃ¡t triá»ƒn kinh táº¿ - xÃ£ há»™i Ä‘áº¿n nÄƒm 2000 do Äáº¡i há»™i VII thÃ´ng qua nháº±m má»¥c tiÃªu gÃ¬?", options: ["BÃ¬nh á»•n xÃ£ há»™i, phÃ¡t triá»ƒn Ä‘áº¥t nÆ°á»›c, Ä‘Æ°a Ä‘áº¥t nÆ°á»›c thoÃ¡t ra khá»i khÃ³ khÄƒn","BÃ¬nh á»•n xÃ£ há»™i, phÃ¡t triá»ƒn Ä‘áº¥t nÆ°á»›c, Ä‘Æ°a Ä‘áº¥t nÆ°á»›c thoÃ¡t ra khá»i nghÃ¨o nÃ n","BÃ¬nh á»•n xÃ£ há»™i, phÃ¡t triá»ƒn Ä‘áº¥t nÆ°á»›c, Ä‘Æ°a Ä‘áº¥t nÆ°á»›c thoÃ¡t ra khá»i cáº¡nh tranh","BÃ¬nh á»•n xÃ£ há»™i, phÃ¡t triá»ƒn Ä‘áº¥t nÆ°á»›c, Ä‘Æ°a Ä‘áº¥t nÆ°á»›c thoÃ¡t ra khá»i kÃ©m phÃ¡t triá»ƒn"], ans: 0 },
    { type: 'mc', q: "Quan há»‡ Ä‘á»‘i ngoáº¡i vÃ  há»™i nháº­p quá»‘c táº¿ cá»§a Viá»‡t Nam sau Äáº¡i há»™i VII cÃ³ nhá»¯ng Ä‘iá»ƒm gÃ¬?", options: ["NgÃ y cÃ ng sÃ¢u rá»™ng vÃ  toÃ n diá»‡n; vá»‹ tháº¿, uy tÃ­n cá»§a Viá»‡t Nam trÃªn trÆ°á»ng quá»‘c táº¿ Ä‘Æ°á»£c tÄƒng cÆ°á»ng.","NgÃ y cÃ ng toÃ n diá»‡n vÃ  sÃ¢u sáº¯c; vá»‹ tháº¿, uy tÃ­n cá»§a Viá»‡t Nam trÃªn trÆ°á»ng quá»‘c táº¿ Ä‘Æ°á»£c tÄƒng cÆ°á»ng.","NgÃ y cÃ ng sÃ¢u rá»™ng vÃ  hiá»‡u quáº£; vá»‹ tháº¿, uy tÃ­n cá»§a Viá»‡t Nam trÃªn trÆ°á»ng quá»‘c táº¿ Ä‘Æ°á»£c nÃ¢ng cao.","NgÃ y cÃ ng bá»n vá»¯ng vÃ  phÃ¡t triá»ƒn; vá»‹ tháº¿, uy tÃ­n cá»§a Viá»‡t Nam trÃªn trÆ°á»ng quá»‘c táº¿ Ä‘Æ°á»£c nÃ¢ng cao."], ans: 2 },
    { type: 'mc', q: "Há»™i nghá»‹ Trung Æ°Æ¡ng 5 khÃ³a VII Ä‘Ã£ ban hÃ nh Nghá»‹ quyáº¿t nÃ o vá» tiáº¿p tá»¥c Ä‘á»•i má»›i vÃ  phÃ¡t triá»ƒn kinh táº¿ - xÃ£ há»™i nÃ´ng thÃ´n?", options: ["Nghá»‹ quyáº¿t sá»‘ 02-NQ/TW","Nghá»‹ quyáº¿t sá»‘ 03-NQ/TW","Nghá»‹ quyáº¿t sá»‘ 04-NQ/TW","Nghá»‹ quyáº¿t sá»‘ 05-NQ/TW"], ans: 3 },
    { type: 'mc', q: "â€œXÃ¢y dá»±ng xong vá» cÆ¡ báº£n nhá»¯ng cÆ¡ sá»Ÿ kinh táº¿ cá»§a chá»§ nghÄ©a xÃ£ há»™i, vá»›i kiáº¿n trÃºc thÆ°á»£ng táº§ng vá» chÃ­nh trá»‹ vÃ  tÆ° tÆ°á»Ÿng, vÄƒn hÃ³a phÃ¹ há»£p, lÃ m cho nÆ°á»›c ta trá»Ÿ thÃ nh má»™t nÆ°á»›c xÃ£ há»™i chá»§ nghÄ©a phá»“n vinh lÃ :", options: ["Má»¥c tiÃªu lÃ¢u dÃ i cá»§a CÆ°Æ¡ng lÄ©nh xÃ¢y dá»±ng Ä‘áº¥t nÆ°á»›c trong thá»i ká»³ quÃ¡ Ä‘á»™ lÃªn chá»§ nghÄ©a xÃ£ há»™i","Má»¥c tiÃªu tá»•ng quÃ¡t cá»§a CÆ°Æ¡ng lÄ©nh nÄƒm 1991","Má»¥c tiÃªu cáº¥p thiáº¿t cá»§a Chiáº¿n lÆ°á»£c á»•n Ä‘á»‹nh vÃ  phÃ¡t triá»ƒn kinh táº¿- xÃ£ há»™i Ä‘áº¿n nÄƒm 2000","Má»¥c tiÃªu quan trá»ng cá»§a Chiáº¿n lÆ°á»£c á»•n Ä‘á»‹nh vÃ  phÃ¡t triá»ƒn kinh táº¿ xÃ£ há»™i Ä‘áº¿n nÄƒm 2000"], ans: 1 },
    { type: 'mc', q: "Kháº³ng Ä‘á»‹nh nÃ o sau Ä‘Ã¢y lÃ  cá»§a Äáº¡i há»™i VII vá» lÄ©nh vá»±c kinh táº¿?", options: ["Ná»n kinh táº¿ bÆ°á»›c Ä‘áº§u chuyá»ƒn biáº¿n tÃ­ch cá»±c","Thu nháº­p quá»‘c dÃ¢n tÄƒng vÃ  giáº£i quyáº¿t Ä‘Æ°á»£c náº¡n Ä‘Ã³i","Nhá»‹p Ä‘á»™ phÃ¡t triá»ƒn kinh táº¿ cao","Cáº§n phÃ¡t triá»ƒn kinh táº¿ táº­p thá»ƒ vÃ  chá»§ trÆ°Æ¡ng xÃ¡c láº­p mÃ´i trÆ°á»ng thá»ƒ cháº¿"], ans: 0 },
    { type: 'mc', q: "Äiá»n tiáº¿p vÃ o chá»— trá»‘ng: Äáº¡i há»™i Ä‘áº¡i biá»ƒu toÃ n quá»‘c láº§n thá»© VII Ä‘Ã£ kháº³ng Ä‘á»‹nh: \"Viá»‡t Nam muá»‘n lÃ  báº¡n vá»›i táº¥t cáº£ cÃ¡c nÆ°á»›c trong cá»™ng Ä‘á»“ng tháº¿ giá»›i, pháº¥n Ä‘áº¥u vÃ¬ ... vÃ  ...\"", options: ["Äá»™c láº­p - tá»± do - háº¡nh phÃºc","HÃ²a bÃ¬nh - Ä‘á»™c láº­p - phÃ¡t triá»ƒn","HÃ²a bÃ¬nh - há»¯u nghá»‹ - phÃ¡t triá»ƒn","Äá»™c láº­p - hÃ²a bÃ¬nh - tá»± do"], ans: 1 },
    { type: 'mc', q: "Káº¿ hoáº¡ch 5 nÄƒm 1991-1995 khÃ´ng cÃ³ ná»™i dung nÃ o sau Ä‘Ã¢y:", options: ["Äáº©y lÃ¹i vÃ  kiá»ƒm soÃ¡t láº¡m phÃ¡t","á»”n Ä‘á»‹nh phÃ¡t triá»ƒn vÃ  nÃ¢ng cao hiá»‡u quáº£ ná»n sáº£n xuáº¥t xÃ£ há»™i","BÆ°á»›c Ä‘áº§u táº¡o ra má»™t cÆ¡ cáº¥u kinh táº¿ há»£p lÃ½","Báº¯t Ä‘áº§u cÃ³ tÃ­ch lÅ©y tá»« ná»™i bá»™ ná»n kinh táº¿."], ans: 2 },
    { type: 'mc', q: "Äiá»n tá»« cÃ²n thiáº¿u vÃ o chá»— trá»‘ng sau: â€œláº¥y liÃªn minh giai cáº¥p..., giai cáº¥p ... vÃ  ... lÃ m ná»n táº£ng do Äáº£ng CÃ´ng sáº£n lÃ£nh Ä‘áº¡o. Thá»±c hiÃªn Ä‘á»§ quyá»n lÃ m chá»§ cá»§a nhÃ¢n dÃ¢nâ€", options: ["cÃ´ng nhÃ¢n, Ä‘á»‹a chá»§, giai cáº¥p tiá»ƒu tÆ° sáº£n","Ä‘á»‹a chá»§, nÃ´ng dÃ¢n, giai cáº¥p trÃ­ thá»©c","cÃ´ng nhÃ¢n, nÃ´ng dÃ¢n, giai cáº¥p trÃ­ thá»©c","cÃ´ng nhÃ¢n, nÃ´ng dÃ¢n, táº§ng lá»›p trÃ­ thá»©c"], ans: 3 },
    { type: 'mc', q: "Äáº¡i há»™i VII láº§n Ä‘áº§u tiÃªn thÃ´ng qua Chiáº¿n lÆ°á»£c á»•n Ä‘á»‹nh vÃ  phÃ¡t triá»ƒn KT-XH Ä‘áº¿n nÄƒm 2000, trong Ä‘Ã³ xÃ¡c Ä‘á»‹nh má»¥c tiÃªu tá»•ng quÃ¡t Ä‘áº¿n nÄƒm 2000 lÃ :", options: ["Ra khá»i khá»§ng hoáº£ng, á»•n Ä‘á»‹nh ná»n kinh táº¿ xÃ£ há»™i, pháº¥n Ä‘áº¥u tÃ¬nh tráº¡ng nÆ°á»›c nghÃ¨o vÃ  kÃ©m phÃ¡t triá»ƒn","Trá»Ÿ thÃ nh nÆ°á»›c Ä‘ang phÃ¡t triá»ƒn cÃ³ thu nháº­p trung bÃ¬nh tháº¥p, cÃ³ ná»n cÃ´ng nghiá»‡p hiá»‡n Ä‘áº¡i phÃ¡t triá»ƒn","Äá»•i má»›i cÆ¡ cháº¿ quáº£n lÃ½, xÃ³a bá» cÆ¡ cháº¿ táº­p trung quan liÃªu, hÃ nh chÃ­nh, bao cáº¥p, chuyá»ƒn sang háº¡ch toÃ¡n, kinh doanh, káº¿t há»£p káº¿ hoáº¡ch vá»›i thá»‹ trÆ°á»ng","Äá»•i má»›i cÆ¡ cháº¿ quáº£n lÃ½ kinh táº¿, giáº£i quyáº¿t nhá»¯ng váº¥n Ä‘á» cáº¥p bÃ¡ch vá» phÃ¢n phá»‘i lÆ°u thÃ´ng"], ans: 0 },
    { type: 'mc', q: "Nháº­n Ä‘á»‹nh nÃ o sau Ä‘Ã¢y khÃ´ng Ä‘Ãºng khi nÃ³i vá» Äáº¡i há»™i VII?", options: ["Coi nÃ´ng nghiá»‡p lÃ  máº·t tráº­n hÃ ng Ä‘áº§u vÃ  cÃ³ cÃ¡ch nhÃ¬n toÃ n diá»‡n","Táº¡o Ä‘iá»u kiá»‡n cho má»i ngÆ°á»i cÃ³ cuá»™c sá»‘ng áº¥m no háº¡nh phÃºc","Cáº§n thiáº¿t phÃ¡t triá»ƒn kinh táº¿ táº­p thá»ƒ.","HÃ¬nh thÃ nh ná»n kinh táº¿ hÃ ng hÃ³a thÃ nh pháº§n, váº­n Ä‘á»™ng theo cÆ¡ cháº¿ thá»‹ trÆ°á»ng, cÃ³ sá»± quáº£n lÃ½ cá»§a NhÃ  nÆ°á»›c, theo Ä‘á»‹nh hÆ°á»›ng xÃ£ há»™i chá»§ nghÄ©a"], ans: 2 },
    { type: 'mc', q: "ÄÃ¢u lÃ  quan Ä‘iá»ƒm trong Äáº¡i hÃ´i Äáº¡i biá»ƒu toÃ n quá»‘c láº§n thá»© VII cá»§a Äáº£ng CÃ´ng sáº£n Viá»‡t Nam?", options: ["Äáº£ng gáº¯n liá»n vá»›i viá»‡c xÃ¢y dá»±ng vÃ  thá»±c hiá»‡n tháº¯ng lá»£i CÆ°Æ¡ng lÄ©nh, chiáº¿n lÆ°á»£c vÃ  cÃ´ng cuá»™c Ä‘á»•i má»›i","VÃ¢n dá»¥ng quan Ä‘iá»ƒm cá»§a Lenin coi ná»n kinh táº¿ cÃ³ cÆ¡ cáº¥u nhiá»u thÃ nh pháº§n vÃ  lÃ  má»™t Ä‘áº·c trÆ°ng cá»§a thá»i ká»³ quÃ¡ Ä‘á»™","Theo quy luáº­t vá» sá»± phÃ¹ há»£p giá»¯a quan há»‡ sáº£n xuáº¥t vá»›i tÃ­nh cháº¥t vÃ  trÃ¬nh Ä‘á»™ cá»§a lá»±c lÆ°á»£ng sáº£n xuáº¥t","CÃ´ng nghiá»‡p hÃ³a, hiá»‡n Ä‘áº¡i hÃ³a lÃ  sá»± nghiá»‡p cá»§a toÃ n dÃ¢n, cá»§a má»i thÃ nh pháº§n kinh táº¿, trong Ä‘Ã³ kinh táº¿ nhÃ  nÆ°á»›c lÃ  chá»§ Ä‘áº¡o"], ans: 0 },
    { type: 'mc', q: "Äáº¡i hÃ´i Äáº¡i biá»ƒu toÃ n quá»‘c láº§n thá»© VII cá»§a Äáº£ng CÃ´ng sáº£n Viá»‡t Nam Ä‘Ã£ Ä‘á» ra bao nhiÃªu phÆ°Æ¡ng hÆ°á»›ng trong CÆ°Æ¡ng lÄ©nh?", options: ["4","5","6","7"], ans: 3 },
    { type: 'mc', q: "ÄÃ¢u khÃ´ng pháº£i lÃ  váº¥n Ä‘á» quan trá»ng mÃ  HÃ´i nghá»‹ láº§n thá»© ba cá»§a Äáº¡i há»™i VII Ä‘Ã£ tháº£o luáº­n?", options: ["TÃ¬nh hÃ¬nh tháº¿ giá»›i vÃ  chÃ­nh sÃ¡ch Ä‘á»‘i ngoáº¡i","Cá»§ng cá»‘ quá»‘c phÃ²ng, giá»¯ vá»¯ng an ninh quá»‘c gia","Äá»•i má»›i vÃ  chá»‰nh Ä‘á»‘n Äáº£ng","Äa dáº¡ng hÃ³a vÃ  báº£o tá»“n vÄƒn hÃ³a nÆ°á»›c nhÃ "], ans: 3 },
    { type: 'mc', q: "ÄÃ¢u lÃ  3 ná»™i dung tiáº¿n hÃ nh Ä‘á»•i má»›i Ä‘Æ°á»£c Äáº¡i hÃ´i Äáº¡i biá»ƒu toÃ n quá»‘c láº§n thá»© VII cá»§a Äáº£ng CÃ´ng sáº£n Viá»‡t Nam Ä‘á» cáº­p Ä‘áº¿n?", options: ["quá»‘c phÃ²ng, an ninh, Ä‘á»‘i ngoáº¡i","vÄƒn hÃ³a, kinh táº¿, chÃ­nh trá»‹","Ä‘á»‘i ngoáº¡i, xÃ£ hÃ´i, vÄƒn hÃ³a","vÄƒn hÃ³a, quá»‘c phÃ²ng, an ninh"], ans: 0 },
    { type: 'mc', q: "ÄÃ¢u khÃ´ng pháº£i lÃ  nÃ´i dung vÄƒn hÃ³a trong Äáº¡i há»™i Äáº¡i biá»ƒu toÃ n quá»‘c láº§n thá»© VII cá»§a Äáº£ng CÃ´ng sáº£n Viá»‡t Nam?", options: ["Káº¿ thá»«a vÃ  phÃ¡t huy nhá»¯ng truyá»n thá»‘ng vÄƒn hoÃ¡ tá»‘t Ä‘áº¹p cá»§a táº¥t cáº£ cÃ¡c dÃ¢n tá»™c trong nÆ°á»›c, tiáº¿p thu nhá»¯ng tinh hoa vÄƒn hoÃ¡ nhÃ¢n loáº¡i","Sá»± nghiá»‡p vÄƒn hÃ³a, giÃ¡o dá»¥c pháº£i Ä‘Æ°á»£c tiáº¿p tá»¥c phÃ¡t triá»ƒn vÃ  nÃ¢ng cao cháº¥t lÆ°á»£ng","XÃ¢y dá»±ng Ä‘áº¥t nÆ°á»›c cÃ³ ná»n vÄƒn hÃ³a tiÃªn tiáº¿n, Ä‘Ã¢m Ä‘Ã  báº£n sáº¯c dÃ¢n tá»™c","Láº¥y chá»§ nghÄ©a MÃ¡c-LÃªnin, tÆ° tÆ°á»Ÿng Há»“ ChÃ­ Minh lÃ  ná»n táº£ng trong Ä‘á»i sá»‘ng tá»‰nh tháº§n xÃ£ há»™i."], ans: 1 },
    { type: 'mc', q: "Äiá»n tá»« cÃ²n thiáº¿u vÃ o chá»— trá»‘ng Ä‘á»ƒ táº¡o thÃ nh má»™t má»‡nh Ä‘á» Ä‘Ãºng: â€œVÄƒn hÃ³a trong Äáº¡i hÃ´i Äáº¡i biá»ƒu toÃ n quá»‘c láº§n thá»© VII cá»§a Äáº£ng CÃ´ng sáº£n Viá»‡t Nam máº·c dÃ¹ Ä‘Æ°á»£c ... nhÆ°ng chÆ°a Ä‘Æ°á»£c...\"", options: ["táº­p trung phÃ¡t triá»ƒn, nhÆ° Ã½ muá»‘n","quan tÃ¢m phÃ¡t triá»ƒn, xem lÃ  váº¥n Ä‘á» trá»ng tÃ¢m","quan tÃ¢m phÃ¡t triá»ƒn, xem lÃ  váº¥n Ä‘á» Ä‘Ã¡ng quan ngáº¡i","táº­p trung phÃ¡t triá»ƒn, xem lÃ  váº¥n Ä‘á» trá»ng tÃ¢m"], ans: 1 },
    { type: 'fitb', q: "Äáº¿n cuá»‘i nÄƒm \_\_\_\_\_, Viá»‡t Nam cÃ³ quan há»‡ ngoáº¡i giao vá»›i 160 nÆ°á»›c.", correctAnswer: "1995" },
    { type: 'mc', q: "Äáº¡i há»™i VII há»p trong bá»‘i cáº£nh nÃ o cá»§a há»‡ thá»‘ng XHCN tháº¿ giá»›i?", options: ["CNXH tháº¿ giá»›i sá»¥p Ä‘á»•.","CNXH tháº¿ giá»›i phÃ¡t triá»ƒn nhanh chÃ³ng.","CNXH tháº¿ giá»›i má»›i hÃ¬nh thÃ nh.","CNXH tháº¿ giá»›i chÆ°a hÃ¬nh thÃ nh"], ans: 0 },
    { type: 'mc', q: "Äáº¡i há»™i VII Ä‘Ã£ thÃ´ng qua CÆ°Æ¡ng lÄ©nh chÃ­nh trá»‹ láº§n thá»© máº¥y cá»§a Äáº£ng, vÃ  Ä‘Ã³ lÃ  cÆ°Æ¡ng lÄ©nh nÃ o?", options: ["Láº§n thá»© 4, CÆ°Æ¡ng lÄ©nh 1991.","Láº§n thá»© 5, CÆ°Æ¡ng lÄ©nh 1991.","Láº§n thá»© 6, CÆ°Æ¡ng lÄ©nh 1991.","Láº§n thá»© 7, CÆ°Æ¡ng lÄ©nh 1991."], ans: 0 },
    { type: 'mc', q: "Äáº·c trÆ°ng vá» chÃ­nh trá»‹ cá»§a CNXH trong CÆ°Æ¡ng lÄ©nh 1991 lÃ  gÃ¬?", options: ["Giai cáº¥p cÃ´ng nhÃ¢n lÃ m chá»§.","Giai cáº¥p nÃ´ng dÃ¢n lÃ m chá»§.","Giai cáº¥p tÆ° sáº£n lÃ m chá»§.","NhÃ¢n dÃ¢n lao Ä‘á»™ng lÃ m chá»§."], ans: 3 },
    { type: 'mc', q: "Äáº·c trÆ°ng vá» kinh táº¿ cá»§a CNXH trong CÆ°Æ¡ng lÄ©nh 1991 lÃ  gÃ¬?", options: ["Kinh táº¿ phÃ¡t triá»ƒn toÃ n diá»‡n.","Kinh táº¿ thá»‹ trÆ°á»ng.","Kinh táº¿ phÃ¡t triá»ƒn cao.","Kinh táº¿ phÃ¡t triá»ƒn á»•n Ä‘á»‹nh"], ans: 2 },
    { type: 'fitb', q: "Má»¥c tiÃªu pháº¥n Ä‘áº¥u cao nháº¥t cá»§a Äáº£ng Ä‘Æ°á»£c Há»™i nghá»‹ giá»¯a nhiá»‡m ká»³ (1/1994) khÃ³a VII xÃ¡c Ä‘á»‹nh lÃ  \_\_\_\_\_ cá»§a con ngÆ°á»i.", correctAnswer: "háº¡nh phÃºc" },
];

const supplementaryQuestions = [
    { type: 'mc', q: "ÄÆ¡n vá»‹ tiá»n tá»‡ cá»§a Viá»‡t Nam lÃ  gÃ¬?", options: ["Äá»“ng","VND","VNÄ","Táº¥t cáº£ Ä‘á»u Ä‘Ãºng"], ans: 3 },
    { type: 'fitb', q: "SÃ´ng dÃ i nháº¥t tháº¿ giá»›i lÃ  \_\_\_\_\_.", correctAnswer: "sÃ´ng Nile" },
    { type: 'mc', q: "NÃºi cao nháº¥t Viá»‡t Nam?", options: ["Fansipan","PhÃº SÄ©","Everest"], ans: 0 },
    { type: 'fitb', q: "Thá»§ Ä‘Ã´ cá»§a Viá»‡t Nam lÃ  \_\_\_\_\_.", correctAnswer: "HÃ  Ná»™i" },
    { type: 'mc', q: "HÃ nh tinh nÃ o gáº§n Máº·t trá»i nháº¥t?", options: ["TrÃ¡i Äáº¥t","Sao Thá»§y","Sao Há»a"], ans: 1 },
    { type: 'mc', q: "ChÃ¢u lá»¥c nÃ o lá»›n nháº¥t?", options: ["ChÃ¢u Ã","ChÃ¢u Ã‚u","ChÃ¢u Phi"], ans: 0 },
    { type: 'fitb', q: "Sá»‘ Ï€ xáº¥p xá»‰ \_\_\_\_\_.", correctAnswer: "3.14" },
    { type: 'mc', q: "Máº·t trá»i lÃ  gÃ¬?", options: ["HÃ nh tinh","Sao","Nguyá»‡t"], ans: 1 },
    { type: 'mc', q: "2*3 = ?", options: ["5","6","7"], ans: 1 },
    { type: 'mc', q: "MÃ u cá»§a báº§u trá»i?", options: ["Xanh","Äá»","VÃ ng"], ans: 0 },
    { type: 'mc', q: "VÄƒn Miáº¿u - Quá»‘c Tá»­ GiÃ¡m Ä‘Æ°á»£c xÃ¢y dá»±ng vÃ o triá»u Ä‘áº¡i nÃ o?", options: ["LÃ½","Tráº§n","Há»“","LÃª"], ans: 0 },
    { type: 'mc', q: "Äáº¡i dÆ°Æ¡ng lá»›n nháº¥t trÃªn tháº¿ giá»›i?", options: ["ThÃ¡i BÃ¬nh DÆ°Æ¡ng","Äáº¡i TÃ¢y DÆ°Æ¡ng","áº¤n Äá»™ DÆ°Æ¡ng"], ans: 0 },
    { type: 'fitb', q: "Tá»•ng thá»‘ng Ä‘áº§u tiÃªn cá»§a Hoa Ká»³ lÃ  \_\_\_\_\_.", correctAnswer: "George Washington" },
];

let masterQuestions = [...officialQuestions];
if (masterQuestions.length < 50) {
    masterQuestions = masterQuestions.concat(supplementaryQuestions);
}
while (masterQuestions.length < 50) {
    masterQuestions = masterQuestions.concat(officialQuestions.slice(0, 50 - masterQuestions.length));
}

const BOARD_SIZE = 5;

function createBoard(boardId) {
    const board = document.getElementById(boardId);
    const labels = ['A','B','C','D','E'];

    board.appendChild(document.createElement('div')); // gÃ³c
    for (let j = 1; j <= BOARD_SIZE; j++) {
        const label = document.createElement('div');
        label.className = 'label';
        label.textContent = j;
        board.appendChild(label);
    }

    for (let i = 0; i < BOARD_SIZE; i++) {
        const rowLabel = document.createElement('div');
        rowLabel.className = 'label';
        rowLabel.textContent = labels[i];
        board.appendChild(rowLabel);

        for (let j = 0; j < BOARD_SIZE; j++) {
            const cell = document.createElement('div');
            cell.className = 'cell';
            const index = `${labels[i]}${j+1}`;
            cell.dataset.index = index;
            cell.dataset.boardId = boardId;
            cell.dataset.hasQuestion = 'false';
            cell.dataset.answered = 'false';
            
            const cellIndex = (i * BOARD_SIZE) + j;
            let questionIndex;

            if (boardId === 'board1') {
                questionIndex = cellIndex;
            } else {
                questionIndex = cellIndex + (BOARD_SIZE * BOARD_SIZE);
            }

            if (masterQuestions[questionIndex]) {
                cell.questionData = masterQuestions[questionIndex];
                cell.dataset.hasQuestion = 'true';
            }

            board.appendChild(cell);
        }
    }
}
createBoard('board1');
createBoard('board2');

const popup = document.getElementById('popup');
const redBtn = document.querySelector('.color-btn.red');
const blueBtn = document.querySelector('.color-btn.blue');
let currentCell = null;

const quizPopup = document.getElementById('quizPopup');
const quizBox = document.getElementById('quizBox');
const quizQuestion = document.getElementById('quizQuestion');
const quizContent = document.getElementById('quizContent');
const backBtn = document.getElementById('backBtn');

const rulePopup = document.getElementById('rulePopup');
const ruleBtn = document.getElementById('ruleBtn');
const closeRuleBtn = document.getElementById('closeRuleBtn');

ruleBtn.addEventListener('click', () => {
    rulePopup.style.display = 'flex';
});

closeRuleBtn.addEventListener('click', () => {
    rulePopup.style.display = 'none';
});

rulePopup.addEventListener('click', (e) => {
    if (e.target === rulePopup) {
        rulePopup.style.display = 'none';
    }
});

document.querySelectorAll('.cell').forEach(cell => {
    cell.addEventListener('click', (e) => {
        currentCell = e.currentTarget;
        const rect = currentCell.getBoundingClientRect();
        const left = rect.right + 8;
        let top = rect.top;
        if (left + 150 > window.innerWidth) {
            popup.style.left = (rect.left - 8 - 60) + 'px';
        } else {
            popup.style.left = left + 'px';
        }
        if (top + 50 > window.innerHeight) top = window.innerHeight - 60;
        popup.style.top = top + 'px';
        popup.style.display = 'flex';
    });

    cell.addEventListener('dblclick', (e) => {
        currentCell = e.currentTarget;
        popup.style.display = 'none';
        quizBox.classList.remove('celebrate');
        
        if (currentCell.dataset.answered === 'true') {
            return;
        }
        
        currentCell.classList.remove('hit', 'miss');
        currentCell.textContent = '';
        openQuizForCell(currentCell);
    });
});

redBtn.addEventListener('click', () => {
    if (currentCell) {
        currentCell.textContent = '';
        currentCell.classList.remove('miss');
        currentCell.classList.add('hit');
        currentCell.dataset.answered = 'false';
    }
    popup.style.display = 'none';
});

blueBtn.addEventListener('click', () => {
    if (currentCell) {
        currentCell.textContent = '';
        currentCell.classList.remove('hit');
        currentCell.classList.add('miss');
        currentCell.dataset.answered = 'false';
    }
    popup.style.display = 'none';
});

window.addEventListener('click', (e) => {
    if (!popup.contains(e.target) && !e.target.classList.contains('cell') && !e.target.closest('.color-btn')) {
        popup.style.display = 'none';
    }
});

function openQuizForCell(cell) {
    let data;

    if (cell.dataset.hasQuestion === 'true' && cell.questionData) {
        data = cell.questionData;
    } else {
        alert(`Ã” ${cell.dataset.index} chÆ°a Ä‘Æ°á»£c gÃ¡n cÃ¢u há»i cá»‘ Ä‘á»‹nh.`);
        return;
    }

    quizQuestion.textContent = data.q;
    quizContent.innerHTML = '';
    
    if (data.type === 'mc') {
        renderMultipleChoice(data);
    } else if (data.type === 'fitb') {
        renderFillInTheBlank(data);
    }

    quizPopup.style.display = 'flex';
}

function celebrate() {
    quizBox.classList.add('celebrate');
    setTimeout(() => quizBox.classList.remove('celebrate'), 500);
}

function updateCellOnAnswer(isCorrect) {
    if (currentCell) {
        currentCell.dataset.answered = 'true';
        currentCell.classList.remove('hit', 'miss');
        currentCell.textContent = '';
    }
}

function renderMultipleChoice(data) {
    data.options.forEach((opt, idx) => {
        const o = document.createElement('div');
        o.className = 'option';
        o.textContent = opt;
        o.dataset.idx = idx;
        
        o.addEventListener('click', (e) => {
            const allOptions = Array.from(quizContent.children);
            allOptions.forEach(ch => ch.style.pointerEvents = 'none');
            
            const selectedIndex = Number(e.currentTarget.dataset.idx);
            let isCorrect = selectedIndex === data.ans;
            
            allOptions.forEach(ch => {
                if (Number(ch.dataset.idx) === data.ans) {
                    ch.classList.add('correct');
                }
            });
            
            if (!isCorrect) {
                e.currentTarget.classList.add('wrong');
            } else {
                celebrate();
            }

            updateCellOnAnswer(isCorrect);
        });
        quizContent.appendChild(o);
    });
}

function renderFillInTheBlank(data) {
    const input = document.createElement('input');
    input.type = 'text';
    input.className = 'fitb-input';
    input.placeholder = 'Nháº­p cÃ¢u tráº£ lá»i cá»§a báº¡n...';
    
    const button = document.createElement('button');
    button.className = 'fitb-btn';
    button.textContent = 'Kiá»ƒm tra';

    const feedback = document.createElement('div');
    feedback.className = 'fitb-feedback';
    
    quizContent.appendChild(input);
    quizContent.appendChild(button);
    quizContent.appendChild(feedback);

    let answered = false;
    
    button.addEventListener('click', () => {
        if (answered) return;

        const normalize = (text) => text.toLowerCase().replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/\s{2,}/g," ").trim();

        const userAnswer = normalize(input.value);
        const correctAnswer = normalize(data.correctAnswer);
        
        let isCorrect = (userAnswer === correctAnswer);

        input.disabled = true;
        button.style.pointerEvents = 'none';
        answered = true;

        if (isCorrect) {
            feedback.innerHTML = 'CHÃNH XÃC! ğŸ‰âœ¨';
            feedback.style.color = '#8cd179';
            celebrate();
            updateCellOnAnswer(true);
        } else {
            feedback.innerHTML = `SAI. ÄÃ¡p Ã¡n Ä‘Ãºng lÃ : <strong>${data.correctAnswer}</strong>`;
            feedback.style.color = '#ff7b7b';
            updateCellOnAnswer(false);
        }
    });

    input.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && !answered) {
            button.click();
        }
    });
}

backBtn.addEventListener('click', () => {
    quizPopup.style.display = 'none';
});

/* --- New Ship Placement Logic --- */
let currentTeam = 1; // 1 for Team 1, 2 for Team 2
let shipOrientation = 'horizontal'; // default
let team1Ships = []; // store ship positions for Team 1
let team2Ships = []; // store ship positions for Team 2
let placingShips = false;

const placeShipsBtn = document.getElementById('placeShipsBtn');
const showShipsBtn = document.getElementById('showShipsBtn');
const showShipsPopup = document.getElementById('show-ships-popup');
const showTeam1Btn = document.getElementById('show-team1');
const showTeam2Btn = document.getElementById('show-team2');
const showBothBtn = document.getElementById('show-both');
const hideAllBtn = document.getElementById('hide-all-ships');

// Toggle orientation on 'R' key
document.addEventListener('keydown', (e) => {
    if (e.key.toLowerCase() === 'r' && placingShips) {
        shipOrientation = shipOrientation === 'horizontal' ? 'vertical' : 'horizontal';
        document.querySelectorAll('.ship').forEach(ship => {
            ship.classList.remove('horizontal', 'vertical');
            ship.classList.add(shipOrientation);
            if (shipOrientation === 'vertical') {
                ship.style.width = '70px';
                ship.style.height = (parseInt(ship.dataset.length) * 70) + 'px';
            } else {
                ship.style.width = (parseInt(ship.dataset.length) * 70) + 'px';
                ship.style.height = '70px';
            }
        });
    }
});

// Start placing ships
placeShipsBtn.addEventListener('click', () => {
    if (placingShips) return;
    placingShips = true;
    currentTeam = 1;
    alert('Team 1: Äáº·t thuyá»n cá»§a báº¡n. Nháº¥n R Ä‘á»ƒ xoay thuyá»n.');
    createShipContainer('board1');
});

// Create ship container for dragging
function createShipContainer(boardId) {
    let shipContainer = document.querySelector('.ship-container');
    if (shipContainer) shipContainer.remove();

    shipContainer = document.createElement('div');
    shipContainer.className = 'ship-container';
    document.body.appendChild(shipContainer);

    const lengths = [3, 2, 1];
    lengths.forEach(length => {
        const ship = document.createElement('div');
        ship.className = `ship ${shipOrientation}`;
        ship.draggable = true;
        ship.dataset.length = length;
        ship.style.display = 'flex';
        for (let i = 0; i < length; i++) {
            const unit = document.createElement('div');
            unit.className = 'ship-unit';
            ship.appendChild(unit);
        }
        if (shipOrientation === 'horizontal') {
            ship.style.flexDirection = 'row';
            ship.style.width = (length * 70) + 'px';
            ship.style.height = '70px';
        } else {
            ship.style.flexDirection = 'column';
            ship.style.width = '70px';
            ship.style.height = (length * 70) + 'px';
        }
        shipContainer.appendChild(ship);

        ship.addEventListener('dragstart', dragStart);
    });

    // Add save button
    const saveBtn = document.createElement('button');
    saveBtn.textContent = 'LÆ°u';
    saveBtn.className = 'action-btn';
    saveBtn.style.position = 'static';
    saveBtn.addEventListener('click', saveShips);
    shipContainer.appendChild(saveBtn);

    // Make board droppable
    const board = document.getElementById(boardId);
    board.addEventListener('dragover', dragOver);
    board.addEventListener('drop', dropShip);
}

function dragStart(e) {
    e.dataTransfer.setData('text/plain', e.target.dataset.length);
    e.dataTransfer.setData('orientation', shipOrientation);
}

function dragOver(e) {
    e.preventDefault();
}

function dropShip(e) {
    e.preventDefault();
    const length = parseInt(e.dataTransfer.getData('text/plain'));
    const orientation = e.dataTransfer.getData('orientation');
    const targetCell = e.target.closest('.cell');
    if (!targetCell || targetCell.classList.contains('ship')) return;

    const board = targetCell.closest('.board');
    const cells = Array.from(board.querySelectorAll('.cell'));
    const targetIndex = cells.indexOf(targetCell);

    const row = Math.floor(targetIndex / BOARD_SIZE);
    const col = targetIndex % BOARD_SIZE;

    let positions = [];
    for (let i = 0; i < length; i++) {
        let cellIndex;
        if (orientation === 'horizontal') {
            if (col + i >= BOARD_SIZE) return; // Out of bounds
            cellIndex = row * BOARD_SIZE + (col + i);
        } else {
            if (row + i >= BOARD_SIZE) return; // Out of bounds
            cellIndex = (row + i) * BOARD_SIZE + col;
        }
        if (cells[cellIndex].classList.contains('ship')) return; // Overlap
        positions.push(cells[cellIndex].dataset.index);
        cells[cellIndex].classList.add('ship');
    }

    // Remove the dragged ship from container
    const draggedShip = document.querySelector(`.ship[data-length="${length}"]`);
    if (draggedShip) draggedShip.remove();
}

function saveShips() {
    const boardId = currentTeam === 1 ? 'board1' : 'board2';
    const board = document.getElementById(boardId);
    const cells = Array.from(board.querySelectorAll('.cell'));
    const shipPositions = cells.reduce((acc, cell, idx) => {
        if (cell.classList.contains('ship')) {
            acc.push(cell.dataset.index);
            cell.classList.remove('ship'); // Hide ships
        }
        return acc;
    }, []);

    if (currentTeam === 1) {
        team1Ships = shipPositions;
        alert('Team 1 Ä‘Ã£ lÆ°u thuyá»n. BÃ¢y giá» Ä‘áº¿n Team 2.');
        currentTeam = 2;
        createShipContainer('board2');
    } else {
        team2Ships = shipPositions;
        alert('Team 2 Ä‘Ã£ lÆ°u thuyá»n. Äáº·t thuyá»n hoÃ n táº¥t.');
        placingShips = false;
        const shipContainer = document.querySelector('.ship-container');
        if (shipContainer) shipContainer.remove();
    }
}

// Show ships button
showShipsBtn.addEventListener('click', () => {
    showShipsPopup.style.display = 'flex';
});

showTeam1Btn.addEventListener('click', () => showShips('team1'));
showTeam2Btn.addEventListener('click', () => showShips('team2'));
showBothBtn.addEventListener('click', () => showShips('both'));
hideAllBtn.addEventListener('click', () => showShips('none'));

showShipsPopup.addEventListener('click', (e) => {
    if (e.target === showShipsPopup) {
        showShipsPopup.style.display = 'none';
    }
});

function showShips(mode) {
    const board1Cells = Array.from(document.getElementById('board1').querySelectorAll('.cell'));
    const board2Cells = Array.from(document.getElementById('board2').querySelectorAll('.cell'));

    // Hide all first
    board1Cells.forEach(cell => cell.classList.remove('ship'));
    board2Cells.forEach(cell => cell.classList.remove('ship'));

    if (mode === 'team1' || mode === 'both') {
        team1Ships.forEach(index => {
            const cell = board1Cells.find(c => c.dataset.index === index);
            if (cell) cell.classList.add('ship');
        });
    }

    if (mode === 'team2' || mode === 'both') {
        team2Ships.forEach(index => {
            const cell = board2Cells.find(c => c.dataset.index === index);
            if (cell) cell.classList.add('ship');
        });
    }

    showShipsPopup.style.display = 'none';
}

</script>
</body>
</html>